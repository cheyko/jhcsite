{"ast":null,"code":"var _jsxFileName = \"/Users/cheykodon_7/Documents/WorkHome/jhcsite/src/components/AddPosting.js\";\nimport React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initState = {\n  title: \"\",\n  type: \"\",\n  author: \"\",\n  date: \"\",\n  description: \"\",\n  body: \"\"\n};\n\nclass AddPosting extends Component {\n  constructor(props) {\n    super(props);\n\n    this.save = async e => {\n      e.preventDefault();\n      const {\n        title,\n        type,\n        author,\n        date,\n        description,\n        body\n      } = this.state;\n\n      if (title && body) {\n        const id = Math.random().toString(36).substring(2) + Date.now().toString(36);\n        await axios.post('http://localhost:3001/products', {\n          id,\n          title,\n          type,\n          author,\n          date,\n          description,\n          body\n        });\n        this.props.context.addPosting({\n          title,\n          type,\n          author,\n          date,\n          description,\n          body\n        }, () => this.setState(initState));\n        this.setState({\n          flash: {\n            status: 'is-success',\n            msg: 'Posting created successfully'\n          }\n        });\n      } else {\n        this.setState({\n          flash: {\n            status: 'is-danger',\n            msg: 'Please enter Title and Body of Notice or Article'\n          }\n        });\n      }\n    };\n\n    this.handleChange = e => this.setState({\n      [e.target.name]: e.target.value,\n      error: \"\"\n    });\n\n    this.state = initState;\n  }\n\n  render() {\n    const {\n      title,\n      type,\n      author,\n      date,\n      description,\n      body\n    } = this.state;\n    const {\n      user\n    } = this.props.context;\n    return !(user && user.accessLevel < 1) ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero is-primary \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-body container\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"title\",\n            children: \"Add Article or Notice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.save,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns is-mobile is-centered\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"column is-one-third\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Title Of Post: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"text\",\n                name: \"title\",\n                value: title,\n                onChange: this.handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Type Of Post: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"text\",\n                name: \"type\",\n                value: price,\n                onChange: this.handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Author Of Post: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"text\",\n                name: \"author\",\n                value: author,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Short Description: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"text\",\n                name: \"shortDesc\",\n                value: shortDesc,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Description: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"textarea\",\n                type: \"text\",\n                rows: \"6\",\n                style: {\n                  resize: \"block\"\n                },\n                name: \"description\",\n                value: description,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), this.state.flash && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `notification ${this.state.flash.status}`,\n              children: this.state.flash.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field is-clearfix\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"button is-primary is-outlined is-pulled-right\",\n                type: \"submit\",\n                onClick: this.save,\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withContext(AddProduct);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/cheykodon_7/Documents/WorkHome/jhcsite/src/components/AddPosting.js"],"names":["React","Component","withContext","Redirect","axios","initState","title","type","author","date","description","body","AddPosting","constructor","props","save","e","preventDefault","state","id","Math","random","toString","substring","Date","now","post","context","addPosting","setState","flash","status","msg","handleChange","target","name","value","error","render","user","accessLevel","price","shortDesc","resize","AddProduct"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst initState = {\n  title: \"\",\n  type: \"\",\n  author: \"\",\n  date: \"\",\n  description: \"\",\n  body: \"\"\n};\n\nclass AddPosting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initState;\n  }\n\n  save = async (e) => {\n    e.preventDefault();\n    const { title, type, author, date, description, body } = this.state;\n\n    if (title && body) {\n      const id = Math.random().toString(36).substring(2) + Date.now().toString(36);\n\n      await axios.post(\n        'http://localhost:3001/products',\n        { id, title, type, author, date, description, body },\n      )\n\n      this.props.context.addPosting(\n        {\n          title, type, author, date, description, body\n        },\n        () => this.setState(initState)\n      );\n      this.setState(\n        { flash: { status: 'is-success', msg: 'Posting created successfully' }}\n      );\n\n    } else {\n      this.setState(\n        { flash: { status: 'is-danger', msg: 'Please enter Title and Body of Notice or Article' }}\n      );\n    }\n  };\n\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  render() {\n    const { title, type, author, date, description, body } = this.state;\n    const { user } = this.props.context;\n\n    return !(user && user.accessLevel < 1) ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <>\n        <div className=\"hero is-primary \">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Add Article or Notice</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <form onSubmit={this.save}>\n          <div className=\"columns is-mobile is-centered\">\n            <div className=\"column is-one-third\">\n              <div className=\"field\">\n                <label className=\"label\">Title Of Post: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"title\"\n                  value={title}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Type Of Post: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"type\"\n                  value={price}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n              <label className=\"label\">Author Of Post: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"author\"\n                  value={author}\n                  onChange={this.handleChange}\n                  \n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Short Description: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"shortDesc\"\n                  value={shortDesc}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Description: </label>\n                <textarea\n                  className=\"textarea\"\n                  type=\"text\"\n                  rows=\"6\"\n                  style={{ resize: \"block\"}}\n                  name=\"description\"\n                  value={description}\n                  onChange={this.handleChange}\n                />\n              </div>\n              {this.state.flash && (\n                <div className={`notification ${this.state.flash.status}`}>\n                  {this.state.flash.msg}\n                </div>\n              )}\n              <div className=\"field is-clearfix\">\n                <button\n                  className=\"button is-primary is-outlined is-pulled-right\"\n                  type=\"submit\"\n                  onClick={this.save}\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </>\n    );\n  }\n}\n\nexport default withContext(AddProduct);"]},"metadata":{},"sourceType":"module"}