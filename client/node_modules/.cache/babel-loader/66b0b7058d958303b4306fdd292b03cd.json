{"ast":null,"code":"import _defineProperty from\"/Users/cheykodon_7/Documents/WorkHome/jhcsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/cheykodon_7/Documents/WorkHome/jhcsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cheykodon_7/Documents/WorkHome/jhcsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cheykodon_7/Documents/WorkHome/jhcsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cheykodon_7/Documents/WorkHome/jhcsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Redirect}from\"react-router-dom\";import withContext from\"../withContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(e){var _this$setState;return _this.setState((_this$setState={},_defineProperty(_this$setState,e.target.name,e.target.value),_defineProperty(_this$setState,\"error\",\"\"),_this$setState));};_this.login=function(e){e.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;if(!username||!password){return _this.setState({error:\"Fill all fields!\"});}_this.props.context.login(username,password).then(function(loggedIn){if(!loggedIn){_this.setState({error:\"Invalid Credentails\"});}});};_this.state={username:\"\",password:\"\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return!this.props.context.user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero blkYellow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"hero-body container\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"title\",children:\"Login\"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:this.login,children:/*#__PURE__*/_jsx(\"div\",{className:\"columns is-mobile is-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"column is-one-third\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"email\",name:\"username\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",name:\"password\",onChange:this.handleChange})]}),this.state.error&&/*#__PURE__*/_jsx(\"div\",{className:\"has-text-danger\",children:this.state.error}),/*#__PURE__*/_jsx(\"div\",{className:\"field is-clearfix\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-primary is-outlined is-pulled-right\",children:\"Submit\"})})]})})})]}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}]);return Login;}(Component);export default withContext(Login);","map":{"version":3,"sources":["/Users/cheykodon_7/Documents/WorkHome/jhcsite/src/components/Login.js"],"names":["React","Component","Redirect","withContext","Login","props","handleChange","e","setState","target","name","value","login","preventDefault","state","username","password","error","context","then","loggedIn","user"],"mappings":"syBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,gJAEMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MAQnBC,YARmB,CAQJ,SAAAC,CAAC,2BAAI,OAAKC,QAAL,mDAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,yCAAwD,EAAxD,kBAAJ,EARG,OAUnBC,KAVmB,CAUX,SAACL,CAAD,CAAO,CACbA,CAAC,CAACM,cAAF,GAEA,gBAA+B,MAAKC,KAApC,CAAQC,QAAR,aAAQA,QAAR,CAAkBC,QAAlB,aAAkBA,QAAlB,CACA,GAAI,CAACD,QAAD,EAAa,CAACC,QAAlB,CAA4B,CAC1B,MAAO,OAAKR,QAAL,CAAc,CAAES,KAAK,CAAE,kBAAT,CAAd,CAAP,CACD,CACD,MAAKZ,KAAL,CAAWa,OAAX,CAAmBN,KAAnB,CAAyBG,QAAzB,CAAmCC,QAAnC,EACGG,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAI,CAACA,QAAL,CAAe,CACb,MAAKZ,QAAL,CAAc,CAAES,KAAK,CAAE,qBAAT,CAAd,EACD,CACF,CALH,EAMD,CAvBkB,CAEjB,MAAKH,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAFiB,aAMlB,C,wCAmBD,iBAAS,CACP,MAAO,CAAC,KAAKX,KAAL,CAAWa,OAAX,CAAmBG,IAApB,cACL,wCACE,YAAK,SAAS,CAAC,gBAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,WAAI,SAAS,CAAC,OAAd,mBADF,EADF,EADF,cAME,aANF,cAOE,aAPF,cAQE,aAAM,QAAQ,CAAE,KAAKT,KAArB,uBACE,YAAK,SAAS,CAAC,+BAAf,uBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,SAAS,CAAC,OAAjB,qBADF,cAEE,cACE,SAAS,CAAC,OADZ,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,KAAKN,YAJjB,EAFF,GADF,cAUE,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,SAAS,CAAC,OAAjB,wBADF,cAEE,cACE,SAAS,CAAC,OADZ,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,KAAKA,YAJjB,EAFF,GAVF,CAmBG,KAAKQ,KAAL,CAAWG,KAAX,eACC,YAAK,SAAS,CAAC,iBAAf,UAAkC,KAAKH,KAAL,CAAWG,KAA7C,EApBJ,cAsBE,YAAK,SAAS,CAAC,mBAAf,uBACE,eACE,SAAS,CAAC,+CADZ,oBADF,EAtBF,GADF,EADF,EARF,GADK,cA6CL,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EA7CF,CA+CD,C,mBA1EiBhB,S,EA6EpB,cAAeE,CAAAA,WAAW,CAACC,KAAD,CAA1B","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport withContext from \"../withContext\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  login = (e) => {\n    e.preventDefault();\n\n    const { username, password } = this.state;\n    if (!username || !password) {\n      return this.setState({ error: \"Fill all fields!\" });\n    }\n    this.props.context.login(username, password)\n      .then((loggedIn) => {\n        if (!loggedIn) {\n          this.setState({ error: \"Invalid Credentails\" });\n        }\n      })\n  };\n\n  render() {\n    return !this.props.context.user ? (\n      <>\n        <div className=\"hero blkYellow\" >\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Login</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <form onSubmit={this.login}>\n          <div className=\"columns is-mobile is-centered\">\n            <div className=\"column is-one-third\">\n              <div className=\"field\">\n                <label className=\"label\">Email: </label>\n                <input\n                  className=\"input\"\n                  type=\"email\"\n                  name=\"username\"\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Password: </label>\n                <input\n                  className=\"input\"\n                  type=\"password\"\n                  name=\"password\"\n                  onChange={this.handleChange}\n                />\n              </div>\n              {this.state.error && (\n                <div className=\"has-text-danger\">{this.state.error}</div>\n              )}\n              <div className=\"field is-clearfix\">\n                <button\n                  className=\"button is-primary is-outlined is-pulled-right\"\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </>\n    ) : (\n      <Redirect to=\"/\" />\n    );\n  }\n}\n\nexport default withContext(Login);"]},"metadata":{},"sourceType":"module"}